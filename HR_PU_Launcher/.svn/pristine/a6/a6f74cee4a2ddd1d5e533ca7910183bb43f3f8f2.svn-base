package com.mobilusauto.app.productionprocess;

import java.util.List;

import com.mobilusauto.app.productionprocess.R;

import android.app.Activity;
import android.content.Context;
import android.graphics.Color;
import android.util.Log;
import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.view.View.OnClickListener;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
import android.widget.TextView;

public abstract class MyListAdapter extends ArrayAdapter<MD_Setting> implements OnClickListener {
	public abstract void mClickEvent(int _id);
	
	/**
	 * Holder
	 */
	private ViewHolder mHolder;
	private LayoutInflater mInflater;
	private int mResID;
	
	/**
	 * List<Keyword>
	 */
	private final List<MD_Setting> mListStr;
	
	/**
	 * ï¿½Óµï¿½ï¿½ï¿½ ï¿½ï¿½ï¿½ï¿½ Holder ï¿½ï¿½ï¿?
	 */
	static class ViewHolder {
		TextView tvNumber;
		TextView tvTitle;
		TextView tvResult;
		boolean enable;
	}
	
	public MyListAdapter(Context context, int resource, List<MD_Setting> objects) {
		super(context, resource,objects);
		mResID = resource;
		mInflater = ((Activity)context).getLayoutInflater();
		mListStr = objects;
	}
	
	@Override
	public View getView(int position, View convertView, ViewGroup parent) {
		View row = convertView;
		
		//DEBUG_.debug("getView : " + position);
		
		if (row == null) {
			row = mInflater.inflate(mResID, parent, false);
			
			mHolder = new ViewHolder();
			
			mHolder.tvNumber = (TextView) row.findViewById(R.id.tvNumber);
			mHolder.tvTitle = (TextView) row.findViewById(R.id.tvTitle);
			mHolder.tvResult = (TextView) row.findViewById(R.id.tvResult);
			row.setTag(mHolder);
			row.setId(position);
			row.setOnClickListener(this);
		} else {
			mHolder = (ViewHolder) convertView.getTag();
		}
		
		mHolder.tvNumber.setText(mListStr.get(position).number);
		mHolder.tvTitle.setText(mListStr.get(position).title);
		mHolder.tvResult.setText(mListStr.get(position).result);
		if(mListStr.get(position).enable)	{
			row.setEnabled(true);
			mHolder.tvNumber.setTextColor(Color.WHITE);
			mHolder.tvTitle.setTextColor(Color.WHITE);
			mHolder.tvResult.setTextColor(Color.WHITE);
		}
		else								{
			row.setEnabled(false);
			mHolder.tvNumber.setTextColor(Color.GRAY);
			mHolder.tvTitle.setTextColor(Color.GRAY);
			mHolder.tvResult.setTextColor(Color.GRAY);
		}
		
		return row;
	}
	
	@Override
	public void onClick(View v) {
		int _id = v.getId();
			mClickEvent(_id);
	}
}